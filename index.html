<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trust Bit - Cryptocurrency Exchange</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.3/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #0d0a1f 100%);
            color: #e6e6e6;
            overflow-x: hidden;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .logo {
            display: flex;
            align-items: center;
            font-size: 24px;
            font-weight: 600;
            color: #7e6bff;
        }
        .logo svg {
            width: 32px;
            height: 32px;
            margin-right: 10px;
        }
        .nav {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        .nav a {
            color: #e6e6e6;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            opacity: 0.8;
            transition: opacity 0.3s, color 0.3s;
            cursor: pointer;
        }
        .nav a:hover, .nav a.active {
            opacity: 1;
            color: #7e6bff;
        }
        .user-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .profile-dropdown {
            position: relative;
        }
        .profile-btn {
            background: transparent;
            border: none;
            color: #e6e6e6;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .profile-btn::after {
            content: '▼';
            font-size: 10px;
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: #2e1a47;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            min-width: 150px;
            z-index: 100;
        }
        .dropdown-menu.active {
            display: block;
        }
        .dropdown-menu a {
            display: block;
            padding: 10px 15px;
            color: #e6e6e6;
            text-decoration: none;
            font-size: 14px;
        }
        .dropdown-menu a:hover {
            background: rgba(126, 107, 255, 0.2);
        }
        .login-btn, .register-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }
        .login-btn {
            background: transparent;
            color: #e6e6e6;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .register-btn {
            background: #7e6bff;
            color: #fff;
        }
        .login-btn:hover, .register-btn:hover {
            opacity: 0.9;
        }
        .main-content {
            display: none;
            padding: 40px;
        }
        .main-content.active {
            display: block;
        }
        .hero-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 50px 40px;
            background: url('https://via.placeholder.com/1200x400/1a1a2e/ffffff?text=Market+Background') no-repeat center center;
            background-size: cover;
            min-height: 400px;
            position: relative;
        }
        .hero-text h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
        }
        .hero-text p {
            font-size: 16px;
            opacity: 0.7;
            max-width: 450px;
            line-height: 1.5;
        }
        .promotions {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 20px 0;
        }
        .promo-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            min-width: 250px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .promo-card h3 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        .promo-card p {
            font-size: 14px;
            opacity: 0.7;
            margin-bottom: 15px;
        }
        .promo-card .btn-primary {
            background: #7e6bff;
            color: #fff;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            width: 100%;
            transition: all 0.3s;
        }
        .promo-card .btn-primary:hover {
            background: #5a4bff;
        }
        .news-section {
            margin-top: 40px;
        }
        .news-section h2 {
            font-size: 28px;
            margin-bottom: 20px;
        }
        .news-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
        }
        .news-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 10px;
            display: flex;
            flex-direction: column;
        }
        .news-content h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .news-content p {
            font-size: 14px;
            opacity: 0.7;
            line-height: 1.4;
        }
        .news-content .source {
            font-size: 14px;
            color: #7e6bff;
            margin-top: 5px;
        }
        .portfolio-grid {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        .portfolio-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            flex: 1;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-width: 200px;
        }
        .portfolio-amount {
            font-size: 24px;
            font-weight: 600;
            margin: 10px 0;
        }
        .portfolio-value {
            font-size: 18px;
            color: #7e6bff;
        }
        .crypto-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin: 0 auto 10px;
        }
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .wallet-section {
            text-align: left;
        }
        .wallet-section h2 {
            margin-bottom: 20px;
            color: #7e6bff;
            font-size: 28px;
        }
        .balance {
            font-size: 36px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #43e97b;
        }
        .deposit-form {
            margin-top: 30px;
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group label {
            display: block;
            font-size: 14px;
            margin-bottom: 5px;
            font-weight: 500;
        }
        .input-group select, .input-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #e6e6e6;
            font-size: 14px;
        }
        .input-group input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        .wallet-address {
            font-family: monospace;
            font-size: 14px;
            word-break: break-all;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-top: 10px;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            width: 100%;
        }
        .btn-primary {
            background: linear-gradient(45deg, #7e6bff 0%, #5a4bff 100%);
            color: #fff;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(126, 107, 255, 0.3);
        }
        .trading-section {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 40px;
        }
        .crypto-list {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }
        .search-bar {
            margin-bottom: 15px;
        }
        .search-bar input {
            width: 100%;
            padding: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #e6e6e6;
            font-size: 14px;
        }
        .crypto-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s;
        }
        .crypto-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        .crypto-item.active {
            background: rgba(126, 107, 255, 0.2);
        }
        .crypto-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .crypto-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        .crypto-price {
            text-align: right;
        }
        .price {
            font-size: 14px;
            font-weight: 600;
        }
        .change {
            font-size: 12px;
        }
        .change.positive {
            color: #43e97b;
        }
        .change.negative {
            color: #f5576c;
        }
        .market-selector {
            position: relative;
            margin-bottom: 20px;
        }
        .market-dropdown {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            color: #e6e6e6;
            font-size: 14px;
            font-weight: 500;
        }
        .market-dropdown:hover {
            background: rgba(126, 107, 255, 0.2);
        }
        .dropdown-arrow {
            font-size: 10px;
        }
        .market-dropdown-content {
            display: none;
            position: absolute;
            background: #2e1a47;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            min-width: 150px;
            z-index: 100;
            top: 100%;
            left: 0;
            max-height: 300px;
            overflow-y: auto;
        }
        .market-dropdown-content a {
            display: block;
            padding: 10px 15px;
            color: #e6e6e6;
            text-decoration: none;
            font-size: 14px;
        }
        .market-dropdown-content a:hover {
            background: rgba(126, 107, 255, 0.2);
        }
        .market-dropdown-content.active {
            display: block;
        }
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .price-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        .current-price {
            font-size: 24px;
            font-weight: 600;
            color: #43e97b;
        }
        .price-change {
            font-size: 14px;
        }
        .price-change.positive {
            color: #43e97b;
        }
        .price-change.negative {
            color: #f5576c;
        }
        .timeframe-selector {
            display: flex;
            gap: 10px;
        }
        .timeframe-btn {
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #e6e6e6;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        .timeframe-btn.active {
            background: #7e6bff;
            border-color: #7e6bff;
            color: #fff;
        }
        .timeframe-btn:hover {
            background: rgba(126, 107, 255, 0.3);
        }
        .chart-container {
            background: linear-gradient(135deg, #1a1a2e 0%, #0d0a1f 100%);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: 500px;
        }
        .chart {
            width: 100%;
            height: 200px;
            margin-bottom: 20px;
        }
        .trading-right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .trade-form {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
        }
        .tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s;
        }
        .tab.active {
            background: linear-gradient(45deg, #7e6bff 0%, #5a4bff 100%);
            color: #fff;
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            font-size: 12px;
            margin-bottom: 5px;
            color: #e6e6e6;
        }
        .input-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #e6e6e6;
            font-size: 14px;
        }
        .btn-primary {
            background: linear-gradient(45deg, #7e6bff 0%, #5a4bff 100%);
            color: #fff;
            padding: 10px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
        }
        .btn-primary:hover {
            background: linear-gradient(45deg, #5a4bff 0%, #7e6bff 100%);
        }
        .stats-panel, .positions-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
        }
        .stats-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }
        .no-positions {
            text-align: center;
            color: #e6e6e6;
            padding: 20px;
        }
        .trade-history {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }
        .trade-history-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-size: 12px;
        }
        .trade-history-item.buy {
            color: #43e97b;
        }
        .trade-history-item.sell {
            color: #f5576c;
        }
        .footer {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px 40px;
            text-align: center;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .footer a {
            color: #7e6bff;
            text-decoration: none;
            margin: 0 10px;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            .trading-section {
                grid-template-columns: 1fr;
            }
            .header {
                flex-direction: column;
                gap: 20px;
            }
            .nav {
                flex-wrap: wrap;
                justify-content: center;
            }
            .hero-section {
                flex-direction: column;
                text-align: center;
            }
            .hero-text h1 {
                font-size: 36px;
            }
            .promotions {
                flex-direction: column;
                align-items: center;
            }
            .promo-card {
                width: 100%;
                max-width: 300px;
            }
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="32" height="32" rx="8" fill="url(#gradient)"/>
                <path d="M12 8H20V12H16V24H12V12H8V8H12Z" fill="white"/>
                <defs>
                    <linearGradient id="gradient" x1="0" y1="0" x2="32" y2="32" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#7e6bff"/>
                        <stop offset="1" stop-color="#5a4bff"/>
                    </linearGradient>
                </defs>
            </svg>
            Trust Bit
        </div>
        <nav class="nav">
            <a href="#" onclick="showSection('dashboard')" class="active">Home</a>
            <a href="#" onclick="showSection('trading')">Trade</a>
            <a href="#" onclick="showSection('wallet')">Wallet</a>
            <a href="#" onclick="showSection('portfolio')">Portfolio</a>
            <a href="#" onclick="showSection('history')">History</a>
        </nav>
        <div class="user-controls">
            <div class="profile-dropdown">
                <button class="profile-btn">Profile</button>
                <div class="dropdown-menu">
                    <a href="#">Settings</a>
                    <a href="#">Wallet</a>
                    <a href="#">Logout</a>
                </div>
            </div>
            <button class="login-btn">Login</button>
            <button class="register-btn">Register</button>
        </div>
    </header>
    <div id="dashboard" class="main-content active">
        <div class="hero-section">
            <div class="hero-text">
                <h1>Trade with Trust Bit</h1>
                <p>A reliable and secure platform for cryptocurrency trading. Start your journey in the world of digital assets.</p>
            </div>
        </div>
        <div class="promotions">
            <div class="promo-card">
                <h3>0% Fees</h3>
                <p>Trade with zero fees on the spot market until the end of the month!</p>
                <button class="btn-primary">Learn More</button>
            </div>
            <div class="promo-card">
                <h3>Staking</h3>
                <p>Earn up to 8% annually on ETH and USDT staking.</p>
                <button class="btn-primary">Start Staking</button>
            </div>
            <div class="promo-card">
                <h3>Referral Program</h3>
                <p>Invite friends and earn 20% of their trading fees.</p>
                <button class="btn-primary">Invite a Friend</button>
            </div>
        </div>
        <div class="news-section">
            <h2>Cryptocurrency News</h2>
            <div class="news-list" id="news-list"></div>
        </div>
    </div>
    <div id="trading" class="main-content">
        <div class="trading-section">
            <div class="crypto-list">
                <h3>Spot Trading</h3>
                <div class="search-bar">
                    <input type="text" id="search-crypto" placeholder="Search cryptocurrency..." oninput="filterCryptoList()">
                </div>
                <div id="crypto-items"></div>
            </div>
            <div class="trading-panel">
                <div class="market-selector">
                    <div class="market-dropdown" onclick="toggleMarketDropdown()">
                        <span id="selected-market">BTC/USDT</span>
                        <span class="dropdown-arrow">▼</span>
                    </div>
                    <div id="market-dropdown" class="market-dropdown-content"></div>
                </div>
                <div class="chart-container">
                    <div class="chart-header">
                        <h3 id="chart-crypto-pair">BTC/USDT</h3>
                        <div class="price-info">
                            <span class="current-price" id="current-price">Loading...</span>
                            <span class="price-change" id="price-change">Loading...</span>
                        </div>
                        <div class="timeframe-selector">
                            <button class="timeframe-btn" onclick="setTimeframe('1m')">1m</button>
                            <button class="timeframe-btn" onclick="setTimeframe('5m')">5m</button>
                            <button class="timeframe-btn" onclick="setTimeframe('15m')">15m</button>
                            <button class="timeframe-btn" onclick="setTimeframe('1h')">1h</button>
                            <button class="timeframe-btn" onclick="setTimeframe('4h')">4h</button>
                            <button class="timeframe-btn active" onclick="setTimeframe('1d')">1d</button>
                        </div>
                    </div>
                    <div id="price-chart" class="chart"></div>
                    <div id="volume-chart" class="chart"></div>
                </div>
                <div class="trading-right-panel">
                    <div class="trade-form">
                        <div class="tabs">
                            <div class="tab active" onclick="setTradeMode('buy')">Buy/Long</div>
                            <div class="tab" onclick="setTradeMode('sell')">Sell/Short</div>
                        </div>
                        <div class="input-group">
                            <label>Price</label>
                            <input type="text" id="trade-price" readonly>
                        </div>
                        <div class="input-group">
                            <label>Amount</label>
                            <input type="number" id="trade-amount" placeholder="0.0000" oninput="updateTradeTotal()">
                        </div>
                        <div class="input-group">
                            <label>Total</label>
                            <input type="text" id="trade-total" placeholder="0.00" readonly>
                        </div>
                        <button class="btn btn-primary" id="trade-btn" onclick="executeTrade()">Buy BTC</button>
                    </div>
                    <div class="stats-panel">
                        <h4>Statistics</h4>
                        <div class="stats-item">
                            <span>24h High:</span>
                            <span id="high-price">Loading...</span>
                        </div>
                        <div class="stats-item">
                            <span>24h Low:</span>
                            <span id="low-price">Loading...</span>
                        </div>
                        <div class="stats-item">
                            <span>24h Volume:</span>
                            <span id="volume-24h">Loading...</span>
                        </div>
                        <div class="stats-item">
                            <span>Market Cap:</span>
                            <span id="market-cap">Loading...</span>
                        </div>
                    </div>
                    <div class="positions-panel">
                        <h4>My Positions</h4>
                        <div class="no-positions">No active positions</div>
                    </div>
                </div>
            </div>
            <div class="trade-history">
                <h4>Trade History</h4>
                <div id="trade-history-list"></div>
            </div>
        </div>
    </div>
    <div id="wallet" class="main-content">
        <div class="card">
            <div class="wallet-section">
                <h2>Your Wallet</h2>
                <div class="balance">$<span id="wallet-balance-page">1000.00</span></div>
                <div class="deposit-form">
                    <h3>Deposit Funds</h3>
                    <div class="input-group">
                        <label>Select Cryptocurrency</label>
                        <select id="deposit-crypto">
                            <option value="BTC">Bitcoin (BTC)</option>
                            <option value="ETH">Ethereum (ETH)</option>
                            <option value="USDT">Tether (USDT)</option>
                            <option value="BNB">Binance Coin (BNB)</option>
                            <option value="LTC">Litecoin (LTC)</option>
                            <option value="TON">The Open Network (TON)</option>
                            <option value="XRP">Ripple (XRP)</option>
                            <option value="SOL">Solana (SOL)</option>
                            <option value="USDC">USD Coin (USDC)</option>
                            <option value="DOGE">Dogecoin (DOGE)</option>
                            <option value="TRX">Tron (TRX)</option>
                            <option value="ADA">Cardano (ADA)</option>
                            <option value="WBTC">Wrapped Bitcoin (WBTC)</option>
                            <option value="AVAX">Avalanche (AVAX)</option>
                            <option value="SHIB">Shiba Inu (SHIB)</option>
                            <option value="LINK">Chainlink (LINK)</option>
                            <option value="DOT">Polkadot (DOT)</option>
                            <option value="MATIC">Polygon (MATIC)</option>
                            <option value="BCH">Bitcoin Cash (BCH)</option>
                            <option value="UNI">Uniswap (UNI)</option>
                            <option value="XLM">Stellar (XLM)</option>
                            <option value="VET">VeChain (VET)</option>
                            <option value="ATOM">Cosmos (ATOM)</option>
                            <option value="FIL">Filecoin (FIL)</option>
                            <option value="ALGO">Algorand (ALGO)</option>
                            <option value="NEAR">NEAR Protocol (NEAR)</option>
                            <option value="ICP">Internet Computer (ICP)</option>
                            <option value="APT">Aptos (APT)</option>
                            <option value="ARB">Arbitrum (ARB)</option>
                            <option value="OP">Optimism (OP)</option>
                            <option value="INJ">Injective (INJ)</option>
                            <option value="SUI">Sui (SUI)</option>
                            <option value="XTZ">Tezos (XTZ)</option>
                            <option value="EOS">EOS</option>
                            <option value="HBAR">Hedera (HBAR)</option>
                            <option value="XMR">Monero (XMR)</option>
                            <option value="KSM">Kusama (KSM)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Select Network</label>
                        <select id="deposit-network" onchange="updateWalletAddress()">
                            <option value="BTC">Bitcoin Network</option>
                            <option value="ETH">Ethereum (ERC-20)</option>
                            <option value="BSC">BNB Chain (BEP-20)</option>
                            <option value="TRON">Tron (TRC-20)</option>
                            <option value="SOL">Solana</option>
                            <option value="ADA">Cardano</option>
                            <option value="AVAX">Avalanche C-Chain</option>
                            <option value="MATIC">Polygon</option>
                            <option value="DOT">Polkadot</option>
                            <option value="ALGO">Algorand</option>
                            <option value="NEAR">NEAR</option>
                            <option value="APT">Aptos</option>
                            <option value="ARB">Arbitrum</option>
                            <option value="OP">Optimism</option>
                            <option value="SUI">Sui</option>
                            <option value="XTZ">Tezos</option>
                            <option value="EOS">EOS</option>
                            <option value="HBAR">Hedera</option>
                            <option value="XMR">Monero</option>
                            <option value="KSM">Kusama</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Deposit Address</label>
                        <div class="wallet-address" id="wallet-address">Select Network</div>
                    </div>
                    <div class="input-group">
                        <label>Amount</label>
                        <input type="number" id="deposit-amount-page" placeholder="Enter Amount">
                    </div>
                    <button class="btn btn-primary" onclick="depositFunds()">Deposit</button>
                </div>
            </div>
        </div>
    </div>
    <div id="portfolio" class="main-content">
        <h2>Your Portfolio</h2>
        <div class="portfolio-grid" id="portfolio-grid"></div>
    </div>
    <div id="history" class="main-content">
        <div class="card">
            <h2>Transaction History</h2>
            <table class="transactions-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Type</th>
                        <th>Cryptocurrency</th>
                        <th>Amount</th>
                        <th>Price</th>
                        <th>Total</th>
                        <th>Status</th>
                        <th>P&L</th>
                    </tr>
                </thead>
                <tbody id="transactions-tbody"></tbody>
            </table>
        </div>
    </div>
    <footer class="footer">
        <a href="#">About Us</a>
        <a href="#">Support</a>
        <a href="#">Privacy Policy</a>
    </footer>
    <script>
        let balance = 1000;
        let portfolio = {};
        let transactions = [];
        let chart = null;
        let candlestickSeries = null;
        let volumeSeries = null;
        let selectedPair = 'BTCUSDT';
        let timeframe = '15m';
        let chartData = [];
        let volumeData = [];
        let currentPrice = 0;
        let priceChange = 0;
        let priceChangePercent = 0;
        let tradeHistory = [];
        let tradeMode = 'buy';
        const cryptoPairs = [
            'BTCUSDT', 'ETHUSDT', '1INCHUSDT', 'ADAUSDT', 'AXSUSDT', 'ACTUSDT', 'AFOUSDT', 'AFROUSDT',
            'ALGOUSDT', 'ANKRUSDT', 'APEUSDT', 'APTUSDT', 'ARBUSDT', 'ATOMUSDT', 'AVAXUSDT', 'AXSUSDT',
            'BATUSDT', 'BCHUSDT', 'BNBUSDT', 'CELOUSDT', 'CHZUSDT', 'COMPOUNDUSDT', 'CRVUSDT', 'DASHUSDT',
            'DOGEUSDT', 'DOTUSDT', 'ENJUSDT', 'EGLDUSDT', 'EOSUSDT', 'FILDUSDT', 'FTMUSDT', 'GALOUSDT',
            'HBARUSDT', 'ICPUSDT', 'INJUSDT', 'IOTXUSDT', 'KAVUSDT', 'LINKUSDT', 'LTCUSDT', 'LUNAUSDT',
            'MANAUSDT', 'MATICUSDT', 'MKRUSDT', 'NEARUSDT', 'NEOUSDT', 'OPUSDT', 'QTUMUSDT', 'RUNEUSDT',
            'RVNUSDT', 'SANDUSDT', 'SHIBUSDT', 'SNXUSDT', 'SOLUSDT', 'STXUSDT', 'SUIUSDT', 'TONUSDT',
            'TRXUSDT', 'UNUSDT', 'USDCUSDT', 'VETUSDT', 'WAVESUSDT', 'XLMUSDT', 'XMRUSDT', 'XRPUSDT',
            'XTZUSDT', 'ZECUSDT', 'ZILUSDT'
        ];
        const cryptoIdMap = {
            BTC: 'bitcoin', ETH: 'ethereum', '1INCH': '1inch', ADA: 'cardano', AXS: 'axie-infinity',
            ACT: 'achain', AFO: 'africa0x', AFRO: 'afro', ALGO: 'algorand', ANKR: 'ankr',
            APE: 'apecoin', APT: 'aptos', ARB: 'arbitrum', ATOM: 'cosmos', AVAX: 'avalanche-2',
            BAT: 'basic-attention-token', BCH: 'bitcoin-cash', BNB: 'binancecoin', CELO: 'celo',
            CHZ: 'chiliz', COMP: 'compound-governance-token', CRV: 'curve-dao-token', DASH: 'dash',
            DOGE: 'dogecoin', DOT: 'polkadot', ENJ: 'enjin-coin', EGLD: 'elrond-erd-2', EOS: 'eos',
            FIL: 'filecoin', FTM: 'fantom', GALA: 'gala', HBAR: 'hedera-hashgraph', ICP: 'internet-computer',
            INJ: 'injective-protocol', IOTX: 'iotex', KAVA: 'kava', LINK: 'chainlink', LTC: 'litecoin',
            LUNA: 'terra-luna-2', MANA: 'decentraland', MATIC: 'matic-network', MKR: 'maker',
            NEAR: 'near', NEO: 'neo', OP: 'optimism', QTUM: 'qtum', RUNE: 'thorchain', RVN: 'ravencoin',
            SAND: 'the-sandbox', SHIB: 'shiba-inu', SNX: 'havven', SOL: 'solana', STX: 'blockstack',
            SUI: 'sui', TON: 'the-open-network', TRX: 'tron', UNI: 'uniswap', USDC: 'usd-coin',
            VET: 'vechain', WAVES: 'waves', XLM: 'stellar', XMR: 'monero', XRP: 'ripple',
            XTZ: 'tezos', ZEC: 'zcash', ZIL: 'zilliqa'
        };
        const cryptoSymbols = {
            BTC: '₿', ETH: 'Ξ', '1INCH': '1"', ADA: '₳', AXS: '🪓', ACT: '⚙', AFO: '🌍', AFRO: '🎶',
            ALGO: 'Ⓐ', ANKR: '⚓', APE: '🦍', APT: 'ⓐ', ARB: 'Ⓐ', ATOM: '⚛', AVAX: 'Ⓐ',
            BAT: '🦇', BCH: '₿', BNB: 'B', CELO: '🌱', CHZ: '⚽', COMP: 'Ⓒ', CRV: 'Ⓒ', DASH: 'ⓓ',
            DOGE: 'Ð', DOT: '⚫', ENJ: 'Ⓔ', EGLD: 'Ⓔ', EOS: 'ⓔ', FIL: '📁', FTM: '👻',
            GALA: '🎮', HBAR: 'ℏ', ICP: '🧠', INJ: '💉', IOTX: 'ⓘ', KAVA: '☕', LINK: '🔗',
            LTC: 'Ł', LUNA: '🌕', MANA: 'Ⓜ', MATIC: '⬣', MKR: 'Ⓜ', NEAR: 'Ⓝ', NEO: 'Ⓝ',
            OP: 'Ⓞ', QTUM: 'Ⓠ', RUNE: 'ᚱ', RVN: 'Ⓡ', SAND: '🏖', SHIB: '柴', SNX: 'Ⓢ',
            SOL: '◎', STX: 'Ⓢ', SUI: 'Ⓢ', TON: '$', TRX: '₮', UNI: '🦄', USDC: '₡',
            VET: 'V', WAVES: '🌊', XLM: '✦', XMR: 'ɱ', XRP: 'Ʀ', XTZ: 'ꜩ', ZEC: 'Ⓩ',
            ZIL: 'Ⓩ'
        };

        function showSection(sectionId) {
            document.querySelectorAll('.main-content').forEach(section => section.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.nav a').forEach(link => link.classList.remove('active'));
            document.querySelector(`.nav a[onclick="showSection('${sectionId}')"]`).classList.add('active');
            if (sectionId === 'trading') {
                initializeCharts();
                renderCryptoList();
                fetchRealTimeData(selectedPair);
                generateChartData(selectedPair);
            }
        }

        function initializeCharts() {
            const priceChart = document.getElementById('price-chart');
            const volumeChart = document.getElementById('volume-chart');
            if (!chart) {
                chart = LightweightCharts.createChart(priceChart, {
                    width: priceChart.clientWidth,
                    height: 200,
                    layout: { backgroundColor: 'transparent', textColor: '#e6e6e6' },
                    grid: { vertLines: { color: 'rgba(255, 255, 255, 0.1)' }, horzLines: { color: 'rgba(255, 255, 255, 0.1)' } },
                    timeScale: { timeVisible: true, secondsVisible: false }
                });
                candlestickSeries = chart.addCandlestickSeries({
                    upColor: '#43e97b',
                    downColor: '#f5576c',
                    borderVisible: false,
                    wickUpColor: '#43e97b',
                    wickDownColor: '#f5576c'
                });
            }
            if (!volumeSeries) {
                volumeSeries = LightweightCharts.createChart(volumeChart, {
                    width: volumeChart.clientWidth,
                    height: 100,
                    layout: { backgroundColor: 'transparent', textColor: '#e6e6e6' },
                    grid: { vertLines: { visible: false }, horzLines: { visible: false } },
                    timeScale: { visible: false }
                });
                const volumeBarSeries = volumeSeries.addHistogramSeries({
                    color: '#6B7280',
                    priceFormat: { type: 'volume' }
                });
                volumeBarSeries.setData(volumeData);
            }
            chart.resize(priceChart.clientWidth, 200);
            volumeSeries.resize(volumeChart.clientWidth, 100);
            candlestickSeries.setData(chartData);
            volumeSeries.setData(volumeData.map(d => ({ time: d.time, value: d.value, color: '#6B7280' })));
            chart.timeScale().fitContent();
        }

        async function fetchRealTimeData(pair) {
            try {
                const [base] = pair.split('USDT');
                const id = cryptoIdMap[base] || 'bitcoin';
                const response = await fetch(`https://api.coingecko.com/api/v3/coins/${id}?tickers=false&market_data=true&community_data=false&developer_data=false`);
                const data = await response.json();
                if (data.market_data) {
                    currentPrice = data.market_data.current_price.usd;
                    priceChange = data.market_data.price_change_24h || 0;
                    priceChangePercent = data.market_data.price_change_percentage_24h || 0;
                    document.getElementById('current-price').textContent = `$${formatPrice(currentPrice)}`;
                    document.getElementById('price-change').textContent = `${priceChangePercent >= 0 ? '+' : ''}${priceChangePercent.toFixed(2)}%`;
                    document.getElementById('price-change').className = `price-change ${priceChangePercent >= 0 ? 'positive' : 'negative'}`;
                    document.getElementById('trade-price').value = `$${formatPrice(currentPrice)}`;
                    document.getElementById('high-price').textContent = `$${formatPrice(currentPrice * 1.05)}`;
                    document.getElementById('low-price').textContent = `$${formatPrice(currentPrice * 0.95)}`;
                    document.getElementById('volume-24h').textContent = `${(data.market_data.total_volume.usd / 1000000).toFixed(2)}M USDT`;
                    document.getElementById('market-cap').textContent = `$${(data.market_data.market_cap.usd / 1000000000).toFixed(2)}B USDT`;
                    const priceElement = document.getElementById(`${pair.toLowerCase()}-price`);
                    const changeElement = document.getElementById(`${pair.toLowerCase()}-change`);
                    if (priceElement && changeElement) {
                        priceElement.textContent = `$${formatPrice(currentPrice)}`;
                        changeElement.textContent = `${priceChangePercent >= 0 ? '+' : ''}${priceChangePercent.toFixed(2)}%`;
                        changeElement.className = `change ${priceChangePercent >= 0 ? 'positive' : 'negative'}`;
                    }
                }
            } catch (error) {
                console.error('Error fetching real-time data:', error);
                currentPrice = Math.random() * 10000 + 1000;
                priceChange = (Math.random() - 0.5) * 100;
                priceChangePercent = (Math.random() - 0.5) * 10;
                document.getElementById('current-price').textContent = `$${formatPrice(currentPrice)}`;
                document.getElementById('price-change').textContent = `${priceChangePercent >= 0 ? '+' : ''}${priceChangePercent.toFixed(2)}%`;
                document.getElementById('price-change').className = `price-change ${priceChangePercent >= 0 ? 'positive' : 'negative'}`;
                document.getElementById('trade-price').value = `$${formatPrice(currentPrice)}`;
                document.getElementById('high-price').textContent = `$${formatPrice(currentPrice * 1.05)}`;
                document.getElementById('low-price').textContent = `$${formatPrice(currentPrice * 0.95)}`;
                document.getElementById('volume-24h').textContent = `${(Math.random() * 5000).toFixed(2)}M USDT`;
                document.getElementById('market-cap').textContent = `$${(Math.random() * 5000).toFixed(2)}B USDT`;
                const priceElement = document.getElementById(`${pair.toLowerCase()}-price`);
                const changeElement = document.getElementById(`${pair.toLowerCase()}-change`);
                if (priceElement && changeElement) {
                    priceElement.textContent = `$${formatPrice(currentPrice)}`;
                    changeElement.textContent = `${priceChangePercent >= 0 ? '+' : ''}${priceChangePercent.toFixed(2)}%`;
                    changeElement.className = `change ${priceChangePercent >= 0 ? 'positive' : 'negative'}`;
                }
            }
        }

        function generateChartData(pair) {
            const [base] = pair.split('USDT');
            const now = new Date();
            const data = [];
            const volumeDataLocal = [];
            let basePrice = currentPrice || 108000;

            for (let i = 99; i >= 0; i--) {
                const time = new Date(now.getTime() - i * 15 * 60 * 1000);
                const volatility = Math.random() * 0.02 - 0.01;
                const price = basePrice * (1 + volatility);
                const volume = Math.random() * 1000 + 200;

                data.push({
                    time: time.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),
                    open: price * (1 - Math.random() * 0.005),
                    high: price * (1 + Math.random() * 0.01),
                    low: price * (1 - Math.random() * 0.01),
                    close: price
                });
                volumeDataLocal.push({
                    time: time.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),
                    value: volume,
                    color: '#6B7280'
                });
                basePrice = price;
            }

            chartData = data;
            volumeData = volumeDataLocal;
            if (candlestickSeries) candlestickSeries.setData(chartData);
            if (volumeSeries) volumeSeries.setData(volumeData);
        }

        function renderCryptoList() {
            const cryptoItems = document.getElementById('crypto-items');
            cryptoItems.innerHTML = '';
            const colorMap = {
                BTC: { start: 'f7931a', end: 'ffb74d' }, ETH: { start: '627eea', end: '8e44ad' },
                '1INCH': { start: '1f3b5b', end: '4d7aa8' }, ADA: { start: '3c84b9', end: '60a5fa' },
                AXS: { start: '0085d2', end: '4db3ff' }, ACT: { start: 'ff4500', end: 'ff8c00' },
                AFO: { start: 'ff007a', end: 'ff4d8c' }, AFRO: { start: 'ff2a44', end: 'ff6b7a' },
                ALGO: { start: '000000', end: '333333' }, ANKR: { start: '1e4dd8', end: '4d8bff' },
                APE: { start: '0033cc', end: '4d7aff' }, APT: { start: '17e6b9', end: '4dffd4' },
                ARB: { start: '2a3b5a', end: '5a7aa8' }, ATOM: { start: '2e3148', end: '4a5d78' },
                AVAX: { start: 'e84142', end: 'ff6b6b' }, BAT: { start: 'ff5000', end: 'ff8c4d' },
                BCH: { start: '8dc351', end: 'b3e67a' }, BNB: { start: 'f3ba2f', end: 'f7de8a' },
                CELO: { start: '35d07f', end: '6bffb3' }, CHZ: { start: 'e30013', end: 'ff4d4d' },
                COMP: { start: '00d395', end: '4dffa8' }, CRV: { start: '4066e0', end: '6b8bff' },
                DASH: { start: '008ce7', end: '4db3ff' }, DOGE: { start: 'c3a634', end: 'e6c44f' },
                DOT: { start: 'e6007a', end: 'ff4d8c' }, ENJ: { start: '624de4', end: '8b6bff' },
                EGLD: { start: '0d0221', end: '333366' }, EOS: { start: '000000', end: '333333' },
                FIL: { start: '0090ff', end: '4dc3ff' }, FTM: { start: '1969ff', end: '4d8bff' },
                GALA: { start: '000000', end: '333333' }, HBAR: { start: '000000', end: '333333' },
                ICP: { start: 'd81f26', end: 'ff4d4d' }, INJ: { start: '1e4dd8', end: '4d8bff' },
                IOTX: { start: '00a3e0', end: '4ddbff' }, KAVA: { start: 'ff4338', end: 'ff7a7a' },
                LINK: { start: '2a5ada', end: '5a9bd4' }, LTC: { start: 'b5b5b5', end: 'd9d9d9' },
                LUNA: { start: 'ba55d3', end: 'd4a8e6' }, MANA: { start: 'ff2a44', end: 'ff6b7a' },
                MATIC: { start: '8247e5', end: 'a78bfa' }, MKR: { start: '1aab9b', end: '4dd4b3' },
                NEAR: { start: '00e3ae', end: '4dffcd' }, NEO: { start: '58bf00', end: '8bff4d' },
                OP: { start: 'ff0420', end: 'ff4d4d' }, QTUM: { start: '2e9dfd', end: '6bb8ff' },
                RUNE: { start: '00d18b', end: '4dffa8' }, RVN: { start: '3848a0', end: '6b7aa8' },
                SAND: { start: '00aeef', end: '4ddbff' }, SHIB: { start: 'ff4500', end: 'ff8c00' },
                SNX: { start: '00d1ff', end: '4dffff' }, SOL: { start: '00ffa3', end: 'dc1fff' },
                STX: { start: '5548de', end: '7a6bff' }, SUI: { start: '1a8cff', end: '4db3ff' },
                TON: { start: '0088cc', end: '00b7eb' }, TRX: { start: 'eb0029', end: 'ff4d4d' },
                UNI: { start: 'ff007a', end: 'ff4d8c' }, USDC: { start: '2775ca', end: '5a9bd4' },
                VET: { start: '15bffd', end: '4ddbff' }, WAVES: { start: '0153ff', end: '4d8bff' },
                XLM: { start: '000000', end: '333333' }, XMR: { start: 'ff6600', end: 'ff9933' },
                XRP: { start: '222222', end: '555555' }, XTZ: { start: '2c7df7', end: '5aa8ff' },
                ZEC: { start: 'f4b728', end: 'ffd966' }, ZIL: { start: '49a49b', end: '7ad4b3' }
            };
            cryptoPairs.forEach(pair => {
                const base = pair.replace('USDT', '');
                const colors = colorMap[base] || { start: '7e6bff', end: '5a4bff' };
                const item = document.createElement('div');
                item.className = `crypto-item ${selectedPair === pair ? 'active' : ''}`;
                item.onclick = () => selectPair(pair);
                item.innerHTML = `
                    <div class="crypto-info">
                        <div class="crypto-icon" style="background: linear-gradient(45deg, #${colors.start}, #${colors.end});">${cryptoSymbols[base] || base.charAt(0)}</div>
                        <span class="font-medium">${pair}</span>
                    </div>
                    <div class="crypto-price">
                        <div class="price" id="${pair.toLowerCase()}-price">Loading...</div>
                        <div class="change" id="${pair.toLowerCase()}-change">Loading...</div>
                    </div>
                `;
                cryptoItems.appendChild(item);
            });
            updateMarketDropdown();
        }

        function updateMarketDropdown() {
            const dropdown = document.getElementById('market-dropdown');
            dropdown.innerHTML = '';
            cryptoPairs.forEach(pair => {
                const a = document.createElement('a');
                a.href = '#';
                a.onclick = (e) => { e.preventDefault(); selectPair(pair); };
                a.textContent = pair;
                dropdown.appendChild(a);
            });
        }

        function filterCryptoList() {
            const searchTerm = document.getElementById('search-crypto').value.toLowerCase();
            const items = document.getElementsByClassName('crypto-item');
            Array.from(items).forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(searchTerm) ? 'flex' : 'none';
            });
        }

        function selectPair(pair) {
            selectedPair = pair;
            document.getElementById('selected-market').textContent = pair;
            document.getElementById('chart-crypto-pair').textContent = pair;
            document.getElementById('trade-btn').textContent = `${tradeMode === 'buy' ? 'Buy' : 'Sell'} ${pair.replace('USDT', '')}`;
            document.getElementById('market-dropdown').classList.remove('active');
            const items = document.getElementsByClassName('crypto-item');
            Array.from(items).forEach(item => item.classList.remove('active'));
            document.querySelector(`.crypto-item:contains('${pair}')`).classList.add('active');
            fetchRealTimeData(pair);
            generateChartData(pair);
            updateTradeHistory();
        }

        function setTimeframe(tf) {
            timeframe = tf;
            const buttons = document.querySelectorAll('.timeframe-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.timeframe-btn[onclick="setTimeframe('${tf}')"]`).classList.add('active');
            generateChartData(selectedPair);
        }

        function setTradeMode(mode) {
            tradeMode = mode;
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            document.querySelector(`.tab[onclick="setTradeMode('${mode}')"]`).classList.add('active');
            const tradeBtn = document.getElementById('trade-btn');
            tradeBtn.textContent = `${mode === 'buy' ? 'Buy' : 'Sell'} ${selectedPair.replace('USDT', '')}`;
        }

        function updateTradeTotal() {
            const amount = parseFloat(document.getElementById('trade-amount').value) || 0;
            document.getElementById('trade-total').value = `$${(amount * currentPrice).toFixed(2)}`;
        }

        function executeTrade() {
            const amount = parseFloat(document.getElementById('trade-amount').value);
            if (amount > 0 && currentPrice > 0 && balance >= amount * currentPrice) {
                const [base] = selectedPair.split('USDT');
                const type = tradeMode;
                tradeHistory.push({
                    price: currentPrice,
                    amount: amount.toFixed(6),
                    time: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit' }),
                    type: type
                });
                balance -= amount * currentPrice;
                portfolio[base] = (portfolio[base] || 0) + (type === 'buy' ? amount : -amount);
                document.getElementById('wallet-balance-page').textContent = balance.toFixed(2);
                updateTradeHistory();
                updatePortfolio();
                document.getElementById('trade-amount').value = '';
                document.getElementById('trade-total').value = '0.00';
            } else {
                alert('Insufficient balance or invalid amount!');
            }
        }

        function updateTradeHistory() {
            const historyList = document.getElementById('trade-history-list');
            historyList.innerHTML = '';
            tradeHistory.slice(-7).forEach(trade => {
                const item = document.createElement('div');
                item.className = `trade-history-item ${trade.type}`;
                item.innerHTML = `
                    <span>${trade.time}</span>
                    <span>$${formatPrice(trade.price)}</span>
                    <span>${trade.amount} ${selectedPair.replace('USDT', '')}</span>
                `;
                historyList.appendChild(item);
            });
        }

        function toggleMarketDropdown() {
            const dropdown = document.getElementById('market-dropdown');
            dropdown.classList.toggle('active');
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(price);
        }

        function updateWalletAddress() {
            const network = document.getElementById('deposit-network').value;
            const crypto = document.getElementById('deposit-crypto').value;
            const addressPrefix = {
                BTC: 'bc1', ETH: '0x', BSC: '0x', TRON: 'T', SOL: 'sol', ADA: 'addr',
                AVAX: 'avax', MATIC: '0x', DOT: '1', ALGO: 'algo', NEAR: 'near',
                APT: 'apt', ARB: '0x', OP: '0x', SUI: 'sui', XTZ: 'tz',
                EOS: 'eos', HBAR: 'hbar', XMR: '4x', KSM: 'ksm'
            };
            const randomId = Math.random().toString(16).slice(2, 34);
            const address = `${addressPrefix[network] || '0x'}${randomId}`;
            document.getElementById('wallet-address').textContent = address;
        }

        function depositFunds() {
            const amount = parseFloat(document.getElementById('deposit-amount-page').value);
            const crypto = document.getElementById('deposit-crypto').value;
            if (amount > 0) {
                balance += amount;
                portfolio[crypto] = (portfolio[crypto] || 0) + (amount / (currentPrice || 1000));
                document.getElementById('wallet-balance-page').textContent = balance.toFixed(2);
                transactions.push({
                    date: new Date().toLocaleString(),
                    type: 'Deposit',
                    crypto,
                    amount: (amount / (currentPrice || 1000)).toFixed(6),
                    price: `$${(currentPrice || 1000).toFixed(2)}`,
                    total: `$${amount.toFixed(2)}`,
                    status: 'Success',
                    pl: `+$${amount.toFixed(2)}`
                });
                updateTransactions();
                updatePortfolio();
                document.getElementById('deposit-amount-page').value = '';
            } else {
                alert('Please enter a valid amount!');
            }
        }

        function updatePortfolio() {
            const portfolioGrid = document.getElementById('portfolio-grid');
            portfolioGrid.innerHTML = '';
            const colorMap = {
                BTC: { start: 'f7931a', end: 'ffb74d' }, ETH: { start: '627eea', end: '8e44ad' },
                USDT: { start: '26a17b', end: '5ac8a8' }, BNB: { start: 'f3ba2f', end: 'f7de8a' },
                LTC: { start: 'b5b5b5', end: 'd9d9d9' }, TON: { start: '0088cc', end: '00b7eb' },
                XRP: { start: '222222', end: '555555' }, SOL: { start: '00ffa3', end: 'dc1fff' },
                USDC: { start: '2775ca', end: '5a9bd4' }, DOGE: { start: 'c3a634', end: 'e6c44f' },
                TRX: { start: 'eb0029', end: 'ff4d4d' }, ADA: { start: '3c84b9', end: '60a5fa' },
                WBTC: { start: 'f7931a', end: 'ffb74d' }, AVAX: { start: 'e84142', end: 'ff6b6b' },
                SHIB: { start: 'ff4500', end: 'ff8c00' }, LINK: { start: '2a5ada', end: '5a9bd4' },
                DOT: { start: 'e6007a', end: 'ff4d8c' }, MATIC: { start: '8247e5', end: 'a78bfa' },
                BCH: { start: '8dc351', end: 'b3e67a' }, UNI: { start: 'ff007a', end: 'ff4d8c' },
                XLM: { start: '000000', end: '333333' }, VET: { start: '15bffd', end: '4ddbff' },
                ATOM: { start: '2e3148', end: '4a5d78' }, FIL: { start: '0090ff', end: '4dc3ff' },
                ALGO: { start: '000000', end: '333333' }, NEAR: { start: '00e3ae', end: '4dffcd' },
                ICP: { start: 'd81f26', end: 'ff4d4d' }, APT: { start: '17e6b9', end: '4dffd4' },
                ARB: { start: '2a3b5a', end: '5a7aa8' }, OP: { start: 'ff0420', end: 'ff4d4d' },
                INJ: { start: '1e4dd8', end: '4d8bff' }, SUI: { start: '1a8cff', end: '4db3ff' },
                XTZ: { start: '2c7df7', end: '5aa8ff' }, EOS: { start: '000000', end: '333333' },
                HBAR: { start: '000000', end: '333333' }, XMR: { start: 'ff6600', end: 'ff9933' },
                KSM: { start: '000000', end: '333333' }, AAVE: { start: 'b6509e', end: 'e68bc5' },
                MKR: { start: '1aab9b', end: '4dd4b3' }, GRT: { start: '6747ed', end: '8b6bff' },
                RUNE: { start: '00d18b', end: '4dffa8' }, FTM: { start: '1969ff', end: '4d8bff' },
                SAND: { start: '00aeef', end: '4ddbff' }, MANA: { start: 'ff2a44', end: 'ff6b7a' },
                AXS: { start: '0085d2', end: '4db3ff' }, CHZ: { start: 'e30013', end: 'ff4d4d' },
                CRV: { start: '4066e0', end: '6b8bff' }, COMP: { start: '00d395', end: '4dffa8' },
                SNX: { start: '00d1ff', end: '4dffff' }, '1INCH': { start: '1f3b5b', end: '4d7aa8' },
                LDO: { start: '00a3ff', end: '4ddbff' }, RNDR: { start: 'ff3c3c', end: 'ff7a7a' },
                STX: { start: '5548de', end: '7a6bff' }, IMX: { start: '00c4b4', end: '4dffcd' },
                FLOW: { start: '00ef8b', end: '4dffa8' }, GALA: { start: '000000', end: '333333' },
                APE: { start: '0033cc', end: '4d7aff' }, EGLD: { start: '0d0221', end: '333366' },
                KAVA: { start: 'ff4338', end: 'ff7a7a' }, ZEC: { start: 'f4b728', end: 'ffd966' },
                DASH: { start: '008ce7', end: '4db3ff' }, NEO: { start: '58bf00', end: '8bff4d' },
                IOTA: { start: '000000', end: '333333' }, QTUM: { start: '2e9dfd', end: '6bb8ff' },
                WAVES: { start: '0153ff', end: '4d8bff' }, ZIL: { start: '49a49b', end: '7ad4b3' },
                ENJ: { start: '624de4', end: '8b6bff' }, BAT: { start: 'ff5000', end: 'ff8c4d' },
                LRC: { start: '2ab6f6', end: '6bd4ff' }, ANKR: { start: '1e4dd8', end: '4d8bff' },
                RVN: { start: '3848a0', end: '6b7aa8' }, HOT: { start: 'ff3c3c', end: 'ff7a7a' },
                OMG: { start: '1a1a1a', end: '4d4d4d' }
            };
            Object.keys(portfolio).forEach(crypto => {
                if (portfolio[crypto] > 0) {
                    const colors = colorMap[crypto] || { start: '7e6bff', end: '5a4bff' };
                    const item = document.createElement('div');
                    item.className = 'portfolio-item';
                    const value = portfolio[crypto] * (currentPrice || 1000);
                    item.innerHTML = `
                        <div class="crypto-icon" style="background: linear-gradient(45deg, #${colors.start}, #${colors.end});">${cryptoSymbols[crypto] || crypto.charAt(0)}</div>
                        <div>${crypto}</div>
                        <div class="portfolio-amount">${portfolio[crypto].toFixed(6)}</div>
                        <div class="portfolio-value">$${value.toFixed(2)}</div>
                    `;
                    portfolioGrid.appendChild(item);
                }
            });
        }

        function updateTransactions() {
            const tbody = document.getElementById('transactions-tbody');
            tbody.innerHTML = '';
            transactions.slice(-10).forEach(tx => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${tx.date}</td>
                    <td>${tx.type}</td>
                    <td>${tx.crypto}</td>
                    <td>${tx.amount}</td>
                    <td>${tx.price}</td>
                    <td>${tx.total}</td>
                    <td><span class="status ${tx.status.toLowerCase()}">${tx.status}</span></td>
                    <td>${tx.pl}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function fetchNews() {
            fetch('https://api.coingecko.com/api/v3/news?per_page=5')
                .then(response => response.json())
                .then(data => {
                    const newsList = document.getElementById('news-list');
                    newsList.innerHTML = '';
                    data.forEach(article => {
                        const item = document.createElement('div');
                        item.className = 'news-item';
                        item.innerHTML = `
                            <div class="news-content">
                                <h3>${article.title}</h3>
                                <p>${article.description.substring(0, 100)}...</p>
                                <span class="source">${article.source || 'Unknown'}</span>
                            </div>
                        `;
                        newsList.appendChild(item);
                    });
                })
                .catch(error => console.error('Error fetching news:', error));
        }

        // Event listeners and initialization
        document.querySelector('.profile-btn').addEventListener('click', () => {
            document.querySelector('.dropdown-menu').classList.toggle('active');
        });

        document.getElementById('deposit-amount-page').addEventListener('input', () => {
            const amount = parseFloat(document.getElementById('deposit-amount-page').value) || 0;
            document.getElementById('wallet-balance-page').textContent = (balance + amount).toFixed(2);
               });

        window.addEventListener('resize', () => {
            if (chart) {
                chart.resize(document.getElementById('price-chart').clientWidth, 200);
                volumeSeries.resize(document.getElementById('volume-chart').clientWidth, 100);
                chart.timeScale().fitContent();
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            showSection('dashboard');
            fetchNews();
            updateWalletAddress();
            setInterval(() => {
                fetchRealTimeData(selectedPair);
                generateChartData(selectedPair);
            }, 5000);
        });
    </script>
</body>
</html>
